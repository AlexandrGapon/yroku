{"ast":null,"code":"const ADD_POST = 'ADD-POST';\nconst UPDATE_POST_TEXT = 'UPDATE-POST-TEXT';\nconst SEND_MESSAGE = 'SEND-MESSAGE';\nconst UPDATE_MESSAGE_TEXT = 'UPDATE-MESSAGE-TEXT';\nlet store = {\n  _state: {\n    dialogsPage: {\n      dialogs: [{\n        name: 'Ulya',\n        id: '1'\n      }, {\n        name: 'Mama',\n        id: '2'\n      }, {\n        name: 'Papa',\n        id: '3'\n      }, {\n        name: 'Ptichki',\n        id: '4'\n      }, {\n        name: 'Nyamnyam',\n        id: '5'\n      }],\n      messages: [{\n        id: 1,\n        text: 'Hello'\n      }, {\n        id: 2,\n        text: 'Titi'\n      }, {\n        id: 3,\n        text: 'BadyaBadya'\n      }, {\n        id: 4,\n        text: 'TayTay'\n      }],\n      newMessageText: ''\n    },\n    profilePage: {\n      posts: [{\n        id: 1,\n        message: 'Hello, world!',\n        likeCount: 15\n      }, {\n        id: 2,\n        message: 'It\\'s my first post',\n        likeCount: 43\n      }],\n      newPostText: 'blablabla'\n    },\n    sidebarPage: {\n      friends: [{\n        id: 1,\n        name: 'Ulya',\n        avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQrnHsHJ875K2DcaOlSvGPmv86g5kdZiiAXQQ&usqp=CAU'\n      }, {\n        id: 2,\n        name: 'Mama',\n        avatar: 'https://sun9-55.userapi.com/impf/0rsrpoqwHtmb90vTX-QCCsE1Hrj9IuCEF75FjQ/UxSgfyJ0PJM.jpg?size=200x0&quality=90&crop=0,1,742,742&sign=55c05187279ddb98125702177a68dc04&ava=1'\n      }, {\n        id: 3,\n        name: 'Ptichky',\n        avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcStQFXMUCoVnK8AyFWMv-xZw8oeweJ_nvOdjA&usqp=CAU'\n      }, {\n        id: 4,\n        name: 'Tejta',\n        avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTBJRVH7DC3pw_t57B9Ccs8Ilt_DMHyFvx2VQ&usqp=CAU'\n      }]\n    }\n  },\n\n  _callSub() {\n    console.log('STate changed');\n  },\n\n  getState() {\n    return this._state;\n  },\n\n  subscribe(observer) {\n    this._callSub = observer;\n  },\n\n  dispatch(action) {\n    if (action.type === ADD_POST) {\n      let post = {\n        id: 3,\n        message: this._state.profilePage.newPostText,\n        likeCount: 0\n      };\n\n      this._state.profilePage.posts.push(post);\n\n      this._state.profilePage.newPostText = '';\n\n      this._callSub(this._state);\n    } else if (action.type === UPDATE_POST_TEXT) {\n      this._state.profilePage.newPostText = action.newText;\n\n      this._callSub(this._state);\n    } else if (action.type = SEND_MESSAGE) {\n      let message = {\n        id: 5,\n        text: this._state.dialogsPage.newMessageText\n      };\n\n      this._state.dialogsPage.messages.push(message);\n\n      this._state.dialogsPage.newMessageText = '';\n\n      this._callSub(this._state);\n    } else if (action.type === UPDATE_MESSAGE_TEXT) {\n      this._state.dialogsPage.newMessageText = action.body;\n    }\n  }\n\n};\nexport const addPostActionCreator = () => ({\n  type: ADD_POST\n});\nexport const updatePostTextActionCreator = text => ({\n  type: UPDATE_POST_TEXT,\n  newText: text\n});\nexport const sendNewMessageCreator = () => ({\n  type: SEND_MESSAGE\n});\nexport const updateTextMessageCreator = text => ({\n  type: UPDATE_MESSAGE_TEXT,\n  body: text\n});\nexport default store;","map":{"version":3,"sources":["C:/IT/react/1/react-lesson-1/src/components/redux/state.js"],"names":["ADD_POST","UPDATE_POST_TEXT","SEND_MESSAGE","UPDATE_MESSAGE_TEXT","store","_state","dialogsPage","dialogs","name","id","messages","text","newMessageText","profilePage","posts","message","likeCount","newPostText","sidebarPage","friends","avatar","_callSub","console","log","getState","subscribe","observer","dispatch","action","type","post","push","newText","body","addPostActionCreator","updatePostTextActionCreator","sendNewMessageCreator","updateTextMessageCreator"],"mappings":"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","sourcesContent":["const ADD_POST = 'ADD-POST';\r\nconst UPDATE_POST_TEXT = 'UPDATE-POST-TEXT';\r\n\r\nconst SEND_MESSAGE = 'SEND-MESSAGE';\r\nconst UPDATE_MESSAGE_TEXT = 'UPDATE-MESSAGE-TEXT';\r\n\r\nlet store = {\r\n\r\n    _state: {\r\n        dialogsPage: {\r\n            dialogs: [\r\n                { name: 'Ulya', id: '1' },\r\n                { name: 'Mama', id: '2' },\r\n                { name: 'Papa', id: '3' },\r\n                { name: 'Ptichki', id: '4' },\r\n                { name: 'Nyamnyam', id: '5' }\r\n            ],\r\n\r\n            messages: [\r\n                { id: 1, text: 'Hello' },\r\n                { id: 2, text: 'Titi' },\r\n                { id: 3, text: 'BadyaBadya' },\r\n                { id: 4, text: 'TayTay' },\r\n            ],\r\n\r\n            newMessageText: '',\r\n        },\r\n\r\n        profilePage: {\r\n            posts: [\r\n                { id: 1, message: 'Hello, world!', likeCount: 15 },\r\n                { id: 2, message: 'It\\'s my first post', likeCount: 43 },\r\n            ],\r\n\r\n            newPostText: 'blablabla',\r\n        },\r\n\r\n        sidebarPage: {\r\n            friends: [\r\n                { id: 1, name: 'Ulya', avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQrnHsHJ875K2DcaOlSvGPmv86g5kdZiiAXQQ&usqp=CAU' },\r\n                { id: 2, name: 'Mama', avatar: 'https://sun9-55.userapi.com/impf/0rsrpoqwHtmb90vTX-QCCsE1Hrj9IuCEF75FjQ/UxSgfyJ0PJM.jpg?size=200x0&quality=90&crop=0,1,742,742&sign=55c05187279ddb98125702177a68dc04&ava=1' },\r\n                { id: 3, name: 'Ptichky', avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcStQFXMUCoVnK8AyFWMv-xZw8oeweJ_nvOdjA&usqp=CAU' },\r\n                { id: 4, name: 'Tejta', avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTBJRVH7DC3pw_t57B9Ccs8Ilt_DMHyFvx2VQ&usqp=CAU' },\r\n            ]\r\n        }\r\n    },\r\n\r\n    _callSub() {\r\n        console.log('STate changed');\r\n    },\r\n\r\n    getState() {\r\n        return this._state;\r\n    },\r\n\r\n    subscribe(observer) {\r\n        this._callSub = observer;\r\n    },\r\n\r\n    dispatch(action) {\r\n        if (action.type === ADD_POST) {\r\n            let post = {\r\n                id: 3,\r\n                message: this._state.profilePage.newPostText,\r\n                likeCount: 0,\r\n            };\r\n    \r\n            this._state.profilePage.posts.push(post);\r\n            this._state.profilePage.newPostText = '';\r\n            this._callSub(this._state);\r\n        } else if (action.type === UPDATE_POST_TEXT) {\r\n            this._state.profilePage.newPostText = action.newText;\r\n            this._callSub(this._state);\r\n        } else if (action.type = SEND_MESSAGE) {\r\n            let message = {\r\n                id: 5,\r\n                text: this._state.dialogsPage.newMessageText \r\n            };\r\n            this._state.dialogsPage.messages.push(message);\r\n            this._state.dialogsPage.newMessageText = '';\r\n            this._callSub(this._state);\r\n        } else if (action.type === UPDATE_MESSAGE_TEXT) {\r\n            this._state.dialogsPage.newMessageText = action.body;\r\n            \r\n        }\r\n    },\r\n};\r\n\r\nexport const addPostActionCreator = () => ({type: ADD_POST});\r\nexport const updatePostTextActionCreator = (text) => ({type: UPDATE_POST_TEXT, newText: text});\r\n\r\nexport const sendNewMessageCreator = () => ({type: SEND_MESSAGE});\r\nexport const updateTextMessageCreator = (text) => ({type: UPDATE_MESSAGE_TEXT, body: text});\r\n\r\nexport default store;"]},"metadata":{},"sourceType":"module"}